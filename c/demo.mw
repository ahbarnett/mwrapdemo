% MWrap file for C demo. Generates gateway.c and arraysin1d.m
% This is augmented MATLAB code, ie there are special lines beginning with
% the @ and # symbols.

@function y=arraysin1d(x)
% ARRAYSIN1D  compute sine of all elements of a 1D array
%
% y = arraysin1d(x) returns in y the sine of all elements of a 1D array x
%
% Note: single-threaded

% You can do any MATLAB preprocessing here
if ~isvector(x), error('x must be a row or column vector'); end
N = numel(x);

% since y has type 'output' of given size, no MATLAB preallocation is needed

% Code for calling the C function, using same variable names as for MATLAB.
% Note the trailing semicolon:
# arraysin1d(int N, double[] x, output double[N] y);

% You can do any MATLAB postprocessing here

% Now you could also add something like the above for new interfaces, each
% generating a new .m wrapper file, but all within the same gateway...
